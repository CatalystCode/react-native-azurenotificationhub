{"version":3,"sources":["../../src/commands/config.ts"],"names":["isValidRNDependency","config","Object","keys","platforms","filter","key","Boolean","length","filterConfig","filtered","dependencies","forEach","item","name","description","func","_argv","ctx","console","log","JSON","stringify"],"mappings":";;;;;;;AAEA,SAASA,mBAAT,CAA6BC,MAA7B,EAAuD;AACrD,SACEC,MAAM,CAACC,IAAP,CAAYF,MAAM,CAACG,SAAnB,EAA8BC,MAA9B,CAAsCC,GAAD,IACnCC,OAAO,CAACN,MAAM,CAACG,SAAP,CAAiBE,GAAjB,CAAD,CADT,EAEEE,MAFF,KAEa,CAHf;AAKD;;AAED,SAASC,YAAT,CAAsBR,MAAtB,EAAsC;AACpC,QAAMS,QAAQ,GAAG,EAAC,GAAGT;AAAJ,GAAjB;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYO,QAAQ,CAACC,YAArB,EAAmCC,OAAnC,CAA4CC,IAAD,IAAU;AACnD,QAAI,CAACb,mBAAmB,CAACU,QAAQ,CAACC,YAAT,CAAsBE,IAAtB,CAAD,CAAxB,EAAuD;AACrD,aAAOH,QAAQ,CAACC,YAAT,CAAsBE,IAAtB,CAAP;AACD;AACF,GAJD;AAKA,SAAOH,QAAP;AACD;;eAEc;AACbI,EAAAA,IAAI,EAAE,QADO;AAEbC,EAAAA,WAAW,EAAE,yBAFA;AAGbC,EAAAA,IAAI,EAAE,OAAOC,KAAP,EAAwBC,GAAxB,KAAwC;AAC5CC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeb,YAAY,CAACS,GAAD,CAA3B,EAAkC,IAAlC,EAAwC,CAAxC,CAAZ;AACD;AALY,C","sourcesContent":["import {Config, DependencyConfig} from '@react-native-community/cli-types';\n\nfunction isValidRNDependency(config: DependencyConfig) {\n  return (\n    Object.keys(config.platforms).filter((key) =>\n      Boolean(config.platforms[key]),\n    ).length !== 0\n  );\n}\n\nfunction filterConfig(config: Config) {\n  const filtered = {...config};\n  Object.keys(filtered.dependencies).forEach((item) => {\n    if (!isValidRNDependency(filtered.dependencies[item])) {\n      delete filtered.dependencies[item];\n    }\n  });\n  return filtered;\n}\n\nexport default {\n  name: 'config',\n  description: 'Print CLI configuration',\n  func: async (_argv: string[], ctx: Config) => {\n    console.log(JSON.stringify(filterConfig(ctx), null, 2));\n  },\n};\n"]}