{"version":3,"sources":["../../src/tools/unzip.ts"],"names":["StreamZip","require","unzip","source","destination","Promise","resolve","reject","zip","file","storeEntries","recursive","on","extract","err","close"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,iBAAD,CAAzB;;AAEA,MAAMC,KAAK,GAAG,OAAOC,MAAP,EAAuBC,WAAvB,KAA+C;AAC3D,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAMC,GAAG,GAAG,IAAIR,SAAJ,CAAc;AACxBS,MAAAA,IAAI,EAAEN,MADkB;AAExBO,MAAAA,YAAY,EAAE;AAFU,KAAd,CAAZ;AAKA,yBAAUN,WAAV,EAAuB;AAACO,MAAAA,SAAS,EAAE;AAAZ,KAAvB;AAEAH,IAAAA,GAAG,CAACI,EAAJ,CAAO,OAAP,EAAgB,MAAM;AACpBJ,MAAAA,GAAG,CAACK,OAAJ,CAAY,IAAZ,EAAkBT,WAAlB,EAAgCU,GAAD,IAAuB;AACpDN,QAAAA,GAAG,CAACO,KAAJ;;AAEA,YAAID,GAAJ,EAAS;AACP,iBAAOP,MAAM,CAACO,GAAD,CAAb;AACD;;AAEDR,QAAAA,OAAO;AACR,OARD;AASD,KAVD;AAWD,GAnBM,CAAP;AAoBD,CArBD","sourcesContent":["import {mkdirSync} from 'fs';\nconst StreamZip = require('node-stream-zip');\n\nconst unzip = async (source: string, destination: string) => {\n  return new Promise((resolve, reject) => {\n    const zip = new StreamZip({\n      file: source,\n      storeEntries: true,\n    });\n\n    mkdirSync(destination, {recursive: true});\n\n    zip.on('ready', () => {\n      zip.extract(null, destination, (err: Error | null) => {\n        zip.close();\n\n        if (err) {\n          return reject(err);\n        }\n\n        resolve();\n      });\n    });\n  });\n};\n\nexport {unzip};\n"]}